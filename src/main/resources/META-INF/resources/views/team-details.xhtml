<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title>Team Details</title>
    <f:metadata>
        <f:viewParam name="teamId" value="#{teamBean.teamId}"
                     converterMessage="Invalid Team ID" />
        <f:event type="preRenderView" listener="#{teamBean.loadTeam}" />
    </f:metadata>
</h:head>

<h:body>
    <h1>Team Details</h1>
    <h:panelGrid columns="2">
        <h:outputText value="ID:" />
        <h:outputText value="#{teamBean.team.id}" />

        <h:outputText value="Name:" />
        <h:outputText value="#{teamBean.team.name}" />

        <h:outputText value="Sport:" />
        <h:outputText value="#{teamBean.team.sport}" />
    </h:panelGrid>

    <h2>Players</h2>
    <h:dataTable value="#{teamBean.team.players}" var="player" border="1">
        <h:column><f:facet name="header">Player ID</f:facet>#{player.id}</h:column>
        <h:column><f:facet name="header">Player Name</f:facet>#{player.name}</h:column>
        <h:column><f:facet name="header">Surname</f:facet>#{player.surname}</h:column>
        <h:column><f:facet name="header">Age</f:facet>#{player.age}</h:column>
    </h:dataTable>

    <h2>Tournaments</h2>
    <h:panelGroup rendered="#{not empty teamBean.team.tournaments}">
        <h:outputText value="Tournaments:" />
        <h:panelGrid columns="1">
            <ui:repeat value="#{teamBean.team.tournaments}" var="tournament">
                <h:outputText value="#{tournament.name}" />
            </ui:repeat>
        </h:panelGrid>
    </h:panelGroup>

    <br/>
    <h:link value="Back to Teams" outcome="teams.xhtml"/>
</h:body>
</html>
