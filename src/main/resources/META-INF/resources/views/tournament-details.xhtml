<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Tournament Details</title>
</h:head>
<h:body>
    <f:metadata>
        <f:viewParam name="tournamentId" value="#{tournamentBean.tournament.id}" />
        <f:viewAction action="#{tournamentBean.loadTournamentData(tournamentBean.tournament.id)}" />
    </f:metadata>

    <h1>#{tournamentBean.tournament.name}</h1>
    <h3>Tournament details:</h3>
    <ul>
        <li><strong>Sport:</strong> #{tournamentBean.tournament.sport}</li>
        <li><strong>Start Date:</strong>
            <h:outputText value="#{tournamentBean.tournament.startDate}">
                <f:convertDateTime pattern="yyyy-MM-dd" />
            </h:outputText>
        </li>
        <li><strong>End Date:</strong>
            <h:outputText value="#{tournamentBean.tournament.endDate}">
                <f:convertDateTime pattern="yyyy-MM-dd" />
            </h:outputText>
        </li>
        <li><strong>Winner:</strong> #{empty tournamentBean.tournament.winner ? 'TBD' : tournamentBean.tournament.winner}</li>
    </ul>
    <h3>Teams in this tournament:</h3>
    <h:panelGroup rendered="#{not empty tournamentBean.tournamentTeams}">
        <ul>
            <ui:repeat value="#{tournamentBean.tournamentTeams}" var="team">
                <li>#{team.name}</li>
            </ui:repeat>
        </ul>
    </h:panelGroup>
    <h:panelGroup rendered="#{empty tournamentBean.tournamentTeams}">
        <p>No teams in this tournament yet.</p>
    </h:panelGroup>

    <div>
        <h:link outcome="tournaments" value="Tournaments" />
        <h:link outcome="teams" value="Teams" />
        <h:link outcome="players" value="Players" />
    </div>
</h:body>
</html>